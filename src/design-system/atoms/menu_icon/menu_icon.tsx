import {useEffect, useState} from 'react';
import { format } from 'date-fns';
import { fr } from 'date-fns/locale';
import './style.scss'


const DateDisplay = () => {
    const formatDate = (): string => {
        const date = new Date();
        const formattedDate = format(date, "EEE d MMM HH':'mm", { locale: fr });
        return formattedDate.slice(0, 1).toUpperCase() + formattedDate.slice(1);
    };

    const [date, setDate] = useState<string>(formatDate());

    useEffect(() => {
        const intervalId = setInterval(() => {
            setDate(formatDate());
        }, 1000);

        return () => clearInterval(intervalId);
    }, []);

    return <div className="window-menu-icon-date unselectable">{date}</div>;
}


const Icons = {
    'apple': () => <svg width="14" height="19" viewBox="0 0 8 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.58984 2.42969C5.28516 2.79883 4.76953 3.07422 4.35938 3.07422C4.3125 3.07422 4.26562 3.06836 4.23633 3.0625C4.23047 3.03906 4.21875 2.96875 4.21875 2.89844C4.21875 2.42969 4.45898 1.96094 4.7168 1.66797C5.04492 1.28125 5.5957 0.994141 6.05273 0.976562C6.06445 1.0293 6.07031 1.09375 6.07031 1.1582C6.07031 1.62695 5.87109 2.08984 5.58984 2.42969ZM5.91211 3.17383C6.16992 3.17383 7.10156 3.19727 7.71094 4.07617C7.6582 4.11719 6.73242 4.63867 6.73242 5.80469C6.73242 7.15234 7.91016 7.63281 7.94531 7.64453C7.93945 7.67383 7.75781 8.29492 7.32422 8.93359C6.9375 9.49023 6.52734 10.0527 5.91211 10.0527C5.29102 10.0527 5.13281 9.68945 4.42383 9.68945C3.72656 9.68945 3.48047 10.0645 2.91797 10.0645C2.34961 10.0645 1.95703 9.54297 1.50586 8.91016C0.978516 8.16016 0.556641 7 0.556641 5.89844C0.556641 4.13477 1.70508 3.19727 2.83594 3.19727C3.43359 3.19727 3.93164 3.58984 4.3125 3.58984C4.66992 3.58984 5.22656 3.17383 5.91211 3.17383Z" fill="black"/></svg>,
    'wifi': () => <svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 10.8315C7.91536 10.8315 7.83073 10.8083 7.74609 10.7617C7.66569 10.7152 7.56201 10.6284 7.43506 10.5015L5.86719 8.99707C5.80794 8.93783 5.76986 8.87435 5.75293 8.80664C5.74023 8.7347 5.75293 8.66699 5.79102 8.60352C6.02376 8.2946 6.3348 8.03646 6.72412 7.8291C7.11768 7.61751 7.54297 7.51172 8 7.51172C8.44434 7.51172 8.85905 7.61117 9.24414 7.81006C9.62923 8.00895 9.93815 8.25439 10.1709 8.54639C10.2301 8.61833 10.2534 8.69661 10.2407 8.78125C10.2323 8.86589 10.1963 8.93783 10.1328 8.99707L8.56494 10.5015C8.43799 10.6284 8.33219 10.7152 8.24756 10.7617C8.16715 10.8083 8.08464 10.8315 8 10.8315ZM4.19775 7.27686L3.18848 6.29297C3.125 6.22949 3.09115 6.15967 3.08691 6.0835C3.08268 6.00309 3.10807 5.92904 3.16309 5.86133C3.50163 5.45931 3.92057 5.10384 4.41992 4.79492C4.91927 4.48177 5.47363 4.23633 6.08301 4.05859C6.69661 3.88086 7.33561 3.79199 8 3.79199C8.66439 3.79199 9.30127 3.88086 9.91064 4.05859C10.52 4.23633 11.0744 4.48177 11.5737 4.79492C12.0773 5.10384 12.4963 5.45931 12.8306 5.86133C12.8898 5.92904 12.9152 6.00309 12.9067 6.0835C12.9025 6.1639 12.8687 6.23372 12.8052 6.29297L11.7959 7.27686C11.7155 7.35303 11.6287 7.39111 11.5356 7.39111C11.4468 7.39111 11.3664 7.35303 11.2944 7.27686C10.8924 6.84945 10.3994 6.50033 9.81543 6.22949C9.23568 5.95866 8.63053 5.82536 8 5.82959C7.37793 5.82536 6.7749 5.95654 6.19092 6.22314C5.61117 6.48551 5.12451 6.82829 4.73096 7.25146C4.65479 7.3361 4.56592 7.38265 4.46436 7.39111C4.36702 7.39535 4.27816 7.35726 4.19775 7.27686ZM1.53174 4.64258L0.636719 3.72852C0.573242 3.66081 0.539388 3.58675 0.535156 3.50635C0.530924 3.42171 0.556315 3.34766 0.611328 3.28418C1.12337 2.64518 1.76872 2.08024 2.54736 1.58936C3.32601 1.09424 4.18083 0.709147 5.11182 0.434082C6.04704 0.154785 7.00977 0.0151367 8 0.0151367C8.986 0.0151367 9.94661 0.154785 10.8818 0.434082C11.8171 0.713379 12.6719 1.09847 13.4463 1.58936C14.2249 2.08024 14.8703 2.64518 15.3823 3.28418C15.4416 3.34766 15.4691 3.42171 15.4648 3.50635C15.4648 3.58675 15.431 3.66081 15.3633 3.72852L14.4619 4.62988C14.39 4.70182 14.3053 4.73991 14.208 4.74414C14.1107 4.74837 14.026 4.71452 13.9541 4.64258C13.1755 3.80469 12.2783 3.16992 11.2627 2.73828C10.2513 2.30241 9.16374 2.08447 8 2.08447C6.84473 2.08447 5.76139 2.30241 4.75 2.73828C3.73861 3.16992 2.83936 3.80257 2.05225 4.63623C1.98031 4.7124 1.89355 4.7526 1.79199 4.75684C1.69466 4.75684 1.60791 4.71875 1.53174 4.64258Z" fill="white" fillOpacity="0.85"/></svg>,
    'spotlight': () => <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.684082 5.28711C0.684082 4.56771 0.819499 3.89062 1.09033 3.25586C1.36117 2.62109 1.73779 2.06462 2.22021 1.58643C2.70264 1.104 3.25911 0.727376 3.88965 0.456543C4.52441 0.18571 5.20361 0.050293 5.92725 0.050293C6.65088 0.050293 7.32796 0.18571 7.9585 0.456543C8.59326 0.727376 9.15186 1.104 9.63428 1.58643C10.1167 2.06462 10.4933 2.62109 10.7642 3.25586C11.035 3.89062 11.1704 4.56771 11.1704 5.28711C11.1704 5.82878 11.09 6.34505 10.9292 6.83594C10.7726 7.32682 10.5526 7.77751 10.269 8.18799L13.0049 10.9365C13.1064 11.0423 13.1826 11.1587 13.2334 11.2856C13.2884 11.4168 13.3159 11.5565 13.3159 11.7046C13.3159 11.9077 13.2694 12.0918 13.1763 12.2568C13.0832 12.4219 12.9562 12.5509 12.7954 12.644C12.6346 12.7414 12.4484 12.79 12.2368 12.79C12.0929 12.79 11.9533 12.7646 11.8179 12.7139C11.6825 12.6631 11.5618 12.5848 11.4561 12.479L8.69482 9.71777C8.29704 9.97168 7.86328 10.1727 7.39355 10.3208C6.92806 10.4647 6.43929 10.5366 5.92725 10.5366C5.20361 10.5366 4.52441 10.4012 3.88965 10.1304C3.25911 9.85954 2.70264 9.48291 2.22021 9.00049C1.73779 8.51807 1.36117 7.95947 1.09033 7.32471C0.819499 6.68994 0.684082 6.01074 0.684082 5.28711ZM2.18213 5.28711C2.18213 5.80762 2.27734 6.29427 2.46777 6.74707C2.66243 7.19987 2.93115 7.59766 3.27393 7.94043C3.62093 8.2832 4.02083 8.55192 4.47363 8.74658C4.92643 8.94124 5.41097 9.03857 5.92725 9.03857C6.44352 9.03857 6.92806 8.94124 7.38086 8.74658C7.83366 8.55192 8.23145 8.2832 8.57422 7.94043C8.91699 7.59766 9.18571 7.19987 9.38037 6.74707C9.57503 6.29427 9.67236 5.80762 9.67236 5.28711C9.67236 4.77083 9.57503 4.28841 9.38037 3.83984C9.18571 3.38704 8.91699 2.98926 8.57422 2.64648C8.23145 2.29948 7.83366 2.02865 7.38086 1.83398C6.92806 1.63932 6.44352 1.54199 5.92725 1.54199C5.41097 1.54199 4.92643 1.63932 4.47363 1.83398C4.02083 2.02865 3.62093 2.29948 3.27393 2.64648C2.93115 2.98926 2.66243 3.38704 2.46777 3.83984C2.27734 4.28841 2.18213 4.77083 2.18213 5.28711Z" fill="white" fillOpacity="0.85"/></svg>,
    'users': () => <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 14.0376C6.08594 14.0376 5.229 13.8641 4.4292 13.5171C3.62939 13.1743 2.9248 12.7004 2.31543 12.0952C1.71029 11.4901 1.23633 10.7876 0.893555 9.98779C0.550781 9.18799 0.379395 8.33105 0.379395 7.41699C0.379395 6.50293 0.550781 5.646 0.893555 4.84619C1.23633 4.04639 1.71029 3.34391 2.31543 2.73877C2.9248 2.12939 3.62939 1.65332 4.4292 1.31055C5.229 0.967773 6.08594 0.796387 7 0.796387C7.91406 0.796387 8.771 0.967773 9.5708 1.31055C10.3706 1.65332 11.0731 2.12939 11.6782 2.73877C12.2834 3.34391 12.7573 4.04639 13.1001 4.84619C13.4471 5.646 13.6206 6.50293 13.6206 7.41699C13.6206 8.33105 13.4471 9.18799 13.1001 9.98779C12.7573 10.7876 12.2834 11.4901 11.6782 12.0952C11.0731 12.7004 10.3706 13.1743 9.5708 13.5171C8.771 13.8641 7.91406 14.0376 7 14.0376ZM7 12.584C7.71517 12.584 8.38379 12.4507 9.00586 12.1841C9.63216 11.9175 10.1802 11.5472 10.6499 11.0732C11.1239 10.5951 11.4941 10.0449 11.7607 9.42285C12.0316 8.79655 12.167 8.12793 12.167 7.41699C12.167 6.70182 12.0316 6.0332 11.7607 5.41113C11.4941 4.78483 11.1239 4.2347 10.6499 3.76074C10.1802 3.28678 9.63216 2.9165 9.00586 2.6499C8.38379 2.3833 7.71517 2.25 7 2.25C6.28483 2.25 5.6141 2.3833 4.98779 2.6499C4.36572 2.9165 3.81771 3.28678 3.34375 3.76074C2.86979 4.2347 2.49951 4.78483 2.23291 5.41113C1.96631 6.0332 1.83301 6.70182 1.83301 7.41699C1.83301 8.12793 1.96631 8.79655 2.23291 9.42285C2.49951 10.0449 2.86979 10.5951 3.34375 11.0732C3.81771 11.5472 4.36572 11.9175 4.98779 12.1841C5.6141 12.4507 6.28483 12.584 7 12.584ZM11.1514 11.6128C10.7367 11.9683 10.2839 12.2666 9.79297 12.5078C9.30632 12.7533 8.81966 12.9373 8.33301 13.0601C7.84635 13.187 7.40202 13.2505 7 13.2505C6.60645 13.2505 6.16423 13.187 5.67334 13.0601C5.18669 12.9373 4.69792 12.7533 4.20703 12.5078C3.71615 12.2666 3.26546 11.9683 2.85498 11.6128L2.88037 11.4731C3.03695 11.1642 3.30566 10.8701 3.68652 10.5908C4.06738 10.3073 4.53923 10.0767 5.10205 9.89893C5.66488 9.72119 6.29753 9.63232 7 9.63232C7.71094 9.63232 8.34782 9.72119 8.91064 9.89893C9.47347 10.0767 9.9432 10.3073 10.3198 10.5908C10.7007 10.8701 10.9694 11.1663 11.126 11.4795L11.1514 11.6128ZM7 8.61035C6.58952 8.60612 6.21924 8.49821 5.88916 8.28662C5.55908 8.07503 5.29671 7.78939 5.10205 7.42969C4.91162 7.06576 4.81429 6.65739 4.81006 6.20459C4.80583 5.77718 4.90104 5.38574 5.0957 5.03027C5.2946 4.6748 5.55908 4.38916 5.88916 4.17334C6.22347 3.95752 6.59375 3.84961 7 3.84961C7.41048 3.84961 7.78076 3.95752 8.11084 4.17334C8.44092 4.38916 8.70329 4.6748 8.89795 5.03027C9.09684 5.38574 9.19629 5.77718 9.19629 6.20459C9.19629 6.65739 9.09896 7.06576 8.9043 7.42969C8.70964 7.79362 8.44727 8.0835 8.11719 8.29932C7.78711 8.5109 7.41471 8.61458 7 8.61035Z" fill="white" fillOpacity="0.85"/></svg>,
    'settings': () => <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.69287 12.7139C3.15544 12.7139 2.66878 12.5954 2.23291 12.3584C1.80127 12.1257 1.45638 11.8019 1.19824 11.3872C0.944336 10.9725 0.817383 10.4922 0.817383 9.94629C0.817383 9.40039 0.944336 8.92008 1.19824 8.50537C1.45638 8.09066 1.80127 7.76693 2.23291 7.53418C2.66878 7.2972 3.15544 7.17871 3.69287 7.17871H10.3008C10.8382 7.17871 11.3228 7.2972 11.7544 7.53418C12.1903 7.76693 12.5352 8.09066 12.7891 8.50537C13.0472 8.92008 13.1763 9.40039 13.1763 9.94629C13.1763 10.4922 13.0472 10.9725 12.7891 11.3872C12.5352 11.8019 12.1903 12.1257 11.7544 12.3584C11.3228 12.5954 10.8382 12.7139 10.3008 12.7139H3.69287ZM10.4658 11.4634C10.7409 11.4634 10.9927 11.3936 11.2212 11.2539C11.4497 11.1185 11.6317 10.9344 11.7671 10.7017C11.9067 10.4689 11.9787 10.2108 11.9829 9.92725C11.9829 9.65218 11.9152 9.40251 11.7798 9.17822C11.6444 8.94971 11.4603 8.76774 11.2275 8.63232C10.999 8.49691 10.7451 8.4292 10.4658 8.4292C10.1865 8.4292 9.93262 8.49691 9.7041 8.63232C9.47559 8.76774 9.29362 8.94971 9.1582 9.17822C9.02279 9.40674 8.95508 9.66064 8.95508 9.93994C8.95508 10.2192 9.02279 10.4731 9.1582 10.7017C9.29362 10.9302 9.47559 11.1121 9.7041 11.2476C9.93262 11.3872 10.1865 11.4591 10.4658 11.4634ZM3.95312 6.20752C3.36068 6.20752 2.82747 6.08057 2.35352 5.82666C1.87956 5.57275 1.50505 5.21729 1.22998 4.76025C0.954915 4.29899 0.817383 3.76579 0.817383 3.16064C0.817383 2.55127 0.954915 2.01807 1.22998 1.56104C1.50505 1.09977 1.87956 0.742188 2.35352 0.488281C2.82747 0.234375 3.36068 0.107422 3.95312 0.107422H10.0405C10.633 0.107422 11.1662 0.234375 11.6401 0.488281C12.1141 0.742188 12.4886 1.09977 12.7637 1.56104C13.0387 2.01807 13.1763 2.55127 13.1763 3.16064C13.1763 3.76579 13.0387 4.29899 12.7637 4.76025C12.4886 5.21729 12.1141 5.57275 11.6401 5.82666C11.1662 6.08057 10.633 6.20752 10.0405 6.20752H3.95312ZM3.95312 4.93164H10.0405C10.3791 4.93164 10.688 4.85758 10.9673 4.70947C11.2508 4.55713 11.4772 4.34766 11.6465 4.08105C11.8158 3.81445 11.9004 3.50765 11.9004 3.16064C11.9004 2.80941 11.8158 2.5026 11.6465 2.24023C11.4772 1.97363 11.2508 1.76628 10.9673 1.61816C10.688 1.46582 10.3791 1.38965 10.0405 1.38965H3.95312C3.61458 1.38965 3.30355 1.46582 3.02002 1.61816C2.74072 1.76628 2.51644 1.97363 2.34717 2.24023C2.1779 2.5026 2.09326 2.80941 2.09326 3.16064C2.09326 3.50765 2.1779 3.81445 2.34717 4.08105C2.51644 4.34766 2.74072 4.55713 3.02002 4.70947C3.30355 4.85758 3.61458 4.93164 3.95312 4.93164ZM3.95312 4.51904C3.69922 4.51904 3.46859 4.45768 3.26123 4.33496C3.05811 4.21224 2.89518 4.0472 2.77246 3.83984C2.65397 3.63249 2.59473 3.40397 2.59473 3.1543C2.59473 2.90462 2.65397 2.67611 2.77246 2.46875C2.89518 2.26139 3.05811 2.09635 3.26123 1.97363C3.46859 1.85091 3.69922 1.78955 3.95312 1.78955C4.20703 1.78955 4.43766 1.85091 4.64502 1.97363C4.85238 2.09212 5.01742 2.25505 5.14014 2.4624C5.26286 2.66553 5.3221 2.89404 5.31787 3.14795C5.31787 3.40186 5.25651 3.63249 5.13379 3.83984C5.01107 4.0472 4.84603 4.21436 4.63867 4.34131C4.43555 4.46403 4.20703 4.52327 3.95312 4.51904Z" fill="white" fillOpacity="0.85"/></svg>,
    'date': DateDisplay

}


export interface MenuProps {
    type: 'apple' | 'wifi' | 'spotlight' | 'settings' | 'users' | 'date';
}

export const MenuIcon = ({type}: MenuProps) => {
    return <div className={`window_menu_icon`}> {Icons[type]()} </div>
};
